{% extends "base.html" %}

{% block title %}
{{ title }}
{% endblock %}

{% block content %}

<div id="vue-receive">
  <form id="form-input" v-on:submit.prevent="addCard">
    <div class="field has-addons">
      <div class="control is-expanded">
        <input class="input" type="text" placeholder="Search..."
            v-model="input"
        >
      </div>
      <div class="control submit">
        <a class="button is-info">
          Search
        </a>
      </div>
    </div>
  </form>

  input: {$ {{ input }} $}

  <div>
    <div v-for="card in reversedCards()" :key="counter">

      <!-- After fetch, display the book data. -->
      <div v-if="card.entry.card && card.entry.card.title">
        <div class="card">
          <div class="card-content">
            <div class="media">
              <div class="media-left">
                <figure class="image is-48x48">
                  <img src="https://bulma.io/images/placeholders/96x96.png" alt="Placeholder image">
                </figure>
              </div>
              <div class="media-content">
                <p class="title is-5"> {$ {{ card.entry.card.title }} $} </p>
                <p class="subtitle is-6"> {$ {{ card.entry.card.publisher }} $} </p>
                <p class="subtitle is-6"> {$ {{ card.entry.card.isbn }} $} </p>
                <p class="subtitle is-6"> {$ {{ card.entry.card.price }} $} â‚¬ </p>
                <!-- <p class="subtitle is-6"> {$ {{ card.entry.card }} $}  </p> -->
              </div>
            </div>
            <div class="content">
            </div>
          </div>
        </div>

      </div>

      <!-- Before fetch: display raw input -->
      <div v-else class="card">
        <div class="card-content">
          <div class="media">
            <div class="media-content">
              <p class="title is-4"> {$ {{ card.entry }} $} </p>
            </div>
          </div>
          <div class="content">
          </div>
        </div>
      </div>

    </div>
  </div>

</div>

{% endblock %}
